<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <f:event type="preRenderComponent" listener="#{pollResultsBean.loadPoll(pollId)}"/>

    <p style="text-align: center">
        <h:outputText value="#{pollResultsBean.poll.label}"
                style="text-decoration: underline; font-size: 200%"/>

            <p:panelGrid layout="grid" columns="3" styleClass="ui-noborder">
                <p:column/>
                <ui:repeat var="question" value="#{pollResultsBean.poll.pollQuestions}">
                    <h:panelGroup layout="block">
                        <h:outputText value="#{question.question} "
                                style="font-weight: bold"/>
                        <h:outputText value=" (#{question.pollAnswers.size()})"
                                style="font-weight: normal"/>
                        <p:progressBar value="#{pollResultsBean.answerPercentage(question)}" labelTemplate="" displayOnly="true"/>
                        <br/>
                    </h:panelGroup>
                </ui:repeat>
                <p:column/>
            </p:panelGrid>
        </p>
    </ui:composition>
